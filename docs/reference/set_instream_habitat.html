<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Set Instream Habitat Area — set_instream_habitat • DSMhabitat</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Set Instream Habitat Area — set_instream_habitat"><meta property="og:description" content="This function returns an estimated instream habitat area based on watershed, species, life stage, and flow."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">DSMhabitat</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/habitat-extents-map.html">Map of Spawning, Rearing, and Theoretical Max Habitat</a>
    </li>
    <li>
      <a href="../articles/floodplain-modeling.html">Floodplain Modeling Methodology</a>
    </li>
    <li>
      <a href="../articles/total-wetted-area.html">Remotely Sensed Wetted Channel Areas</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/reorienting-to-recovery/DSMhabitat" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Set Instream Habitat Area</h1>
    
    <div class="hidden name"><code>set_instream_habitat.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function returns an estimated instream habitat area based on watershed, species, life stage, and flow.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">set_instream_habitat</span><span class="op">(</span><span class="va">watershed</span>, <span class="va">species</span>, <span class="va">life_stage</span>, <span class="va">flow</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>watershed</dt>
<dd><p>one of the watersheds defined for the SIT model</p></dd>


<dt>species</dt>
<dd><p>one of 'fr' (Fall Run), 'lfr' (Late Fall Run), sr' (Spring Run), or 'st' (Steelhead)</p></dd>


<dt>life_stage</dt>
<dd><p>life stage of fish, one of 'juv', 'adult' or 'fry'</p></dd>


<dt>flow</dt>
<dd><p>value used to determine habitat area</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>habitat area in square meters</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The function relies on a dataframe called
<code><a href="modeling_exist.html">modeling_exist</a></code> that contains data on whether the species is present in a watershed
and whether habitat modeling exists.
If a model for the watershed does exist, the function looks up the flow to weighted usable area (WUA) relationship
(e.g. <code><a href="habitat_data.html">battle_creek_instream</a></code>) and selects the correct WUA for the
given flow, species, and life stage. This WUA is then multiplied by the watershed's
typical rearing habitat extent length (stored in <code><a href="watershed_lengths.html">watershed_lengths</a></code>),
to return an estimate of suitable rearing habitat within the watershed.
When additional species modeling is not available, the fall run WUA
values are used (lengths are modified if the habitat extent varies across species).
Also, if there is no modeling specifically for fry, then the juvenile value is used.</p>
    </div>
    <div id="lower-mid-sacramento-river">
    <h2>Lower-mid Sacramento River</h2>
    

<p>The Lower-mid Sacramento River has two nodes, one above Fremont Weir (C134) and one below (C160).
When calculating habitat for the Lower-Mid Sacramento river, calculate the habitat at
each flow node and sum them proportion to the length of stream above and below the weir:</p>
<p>35.6/58 * (habitat at C134) + 22.4/58 * (habitat at C160)</p>

<p><strong>Regional Approximation:</strong>
When a watershed has no associated flow to WUA reltionship, a regional approximation is made.
First, the mean WUA at the given flow value from a set of similar modeled watersheds nearby is calculated.
Then the mean WUA is multiplied by the river length of the watershed of interest.</p>
<p>Below are the regions (defined by the downstream watershed) that contain
watersheds with unmodeled spawning relationships. The modeled watersheds
used to approximate spawning area for the unmodeled watersheds
are marked with an asterisk.</p>

<p><strong>Upper-mid Sacramento River</strong></p><ul><li><p>Battle Creek*</p></li>
<li><p>Bear Creek</p></li>
<li><p>Big Chico Creek</p></li>
<li><p>Butte Creek*</p></li>
<li><p>Clear Creek*</p></li>
<li><p>Cottonwood Creek*</p></li>
<li><p>Cow Creek*</p></li>
<li><p>Deer Creek</p></li>
<li><p>Elder Creek</p></li>
<li><p>Mill Creek</p></li>
<li><p>Paynes Creek</p></li>
<li><p>Stony Creek</p></li>
<li><p>Thomes Creek</p></li>
</ul><p><strong>South Delta</strong></p><ul><li><p>Calaveras River*</p></li>
<li><p>Cosumnes River</p></li>
<li><p>Mokelumne River*</p></li>
</ul></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Fry rearing habitat value in square meters for Fall Run in the Merced River at 425 cfs.</span></span></span>
<span class="r-in"><span><span class="fu">set_instream_habitat</span><span class="op">(</span><span class="st">'Merced River'</span>, <span class="st">'fr'</span>, <span class="st">'fry'</span>, <span class="fl">425</span><span class="op">)</span> <span class="co"># habitat modeling exists</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 446380.6</span>
<span class="r-in"><span><span class="co"># Juvenile rearing habitat value in square meters for Fall Run in Elder Creek at 300 cfs.</span></span></span>
<span class="r-in"><span><span class="fu">set_instream_habitat</span><span class="op">(</span><span class="st">'Elder Creek'</span>, <span class="st">'fr'</span>, <span class="st">'juv'</span>, <span class="fl">300</span><span class="op">)</span> <span class="co"># no habitat modeling exists, composite used</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [1] 31964.76</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Erin Cain, Emanuel Rodriguez, Mark Tompkins.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

